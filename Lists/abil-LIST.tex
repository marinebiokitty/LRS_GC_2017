%%%%%
%%
%% This file sets up the Abil datatype and creates Abil macros.  These
%% are for abilities that characters may have.
%%
%%%%%

\DECLARESUBTYPE{Abil}{Element}
\PRESETS{Abil}{
  \F\MYtext	%% text of ability, read by user
  \F\MYeffect	%% effect text of ability, read by recipient(s)
  }


%%%%%
%% \ability{<name>}{<text>}{<effect>}
%%
%% \ability is a wrapper around \INSTANCE, useful for 1-shot abilities,
%% etc.
\newinstance{Abil}{\ability[3]}{
  \s\MYname{#1}\s\MYtext{#2}\s\MYeffect{#3}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NEW{Abil}{\aTest}{
  \s\MYname	{Test Ability}
  \s\MYtext	{You are a test.}
  \s\MYeffect	{This is a Test.}
  }

\NEW{Abil}{\aMonologue}{
  \s\MYname	{Monologue}
  \s\MYtext	{Deliver a villainous monologue.  Usable twice.}
  \s\MYeffect	{Raise your hands above your head and deliver a loud, evil laugh.  You may speak for up to ninety seconds.  Everyone in the room when you begin your monologue must stay in the room and listen to you without interruptions.  (You may continue speaking after ninety seconds, but other players may leave or interrupt at that time.)} % If they're picking a lock etc they can continue.
  }
\NEW{Abil}{\aMoralStand}{
  \s\MYname	{Moral Stand}
  \s\MYtext	{Deliver a compelling moral speech.  Usable twice.}
  \s\MYeffect	{When speaking to another player, place your hand on your heart and look heroically into the distance.  You may speak for thirty seconds on some matter of moral principle, such as loyalty, family unity, honoring one's parents, or the evils of thievery.  The target must pause what they are doing and listen to you.  For twenty minutes, that character cannot act in opposition to the moral principle you discuss.}
  }
\NEW{Abil}{\aIce}{
  \s\MYname	{Freeze}
  \s\MYtext	{You have a superpower to freeze objects and people.  Usable at most three times.}
  \s\MYeffect	{If used on a character, they are frozen for three minutes, unable to move, act, or speak.  Other characters see them as covered in ice.
                 If used on an object, door, or piece of furniture, apply a % I have no idea how this should work
		 Once used, this ability cannot be used again for ten minutes.}
  }
\NEW{Abil}{\aZapObject}{
  \s\MYname	{Zap Device}
  \s\MYtext	{You can zap devices with electricity.  Usable at most two times.}
  \s\MYeffect	{You may touch an electronic device.  Mark it with a yellow sticker, with the current time plus five minutes.  That device is not usable until that time.}
  }
\NEW{Abil}{\aZapPerson}{
  \s\MYname	{Zap Person}
  \s\MYtext	{You can zap people with electricity.  Usable at most two times.}
  \s\MYeffect	{If another person is in touch range, point to them and say "I zap you."  That person cannot use electronic devices, including phones, for three minutes.  The victim is aware of the effect, but others see nothing.}
  }
\NEW{Abil}{\aPhase}{
  \s\MYname	{Phase Through Walls}
  \s\MYtext	{You have a superpower to pass through walls and locked doors.  Usable always.}
  \s\MYeffect	{Walk to the other side, unless you are affected by an ability that prevents you from leaving the current room or conversation.  Characters on either side of the wall or door see this happen.}
  }
\NEW{Abil}{\aInvisibility}{
  \s\MYname	{Invisibility}
  \s\MYtext	{You have a superpower to become invisible.  Usable always.}
  \s\MYeffect	{Don a headband, which marks you as invisible.  Other players cannot see you, though they can hear you if you speak.  This power cannot be used for longer than five minutes at a time.   Once used, this ability cannot be used for another minute after you become visible again.}
  }
\NEW{Abil}{\aSpeed}{
  \s\MYname	{Super Speed}
  \s\MYtext	{You have a superpower to move very quickly.  Usable always.}
  \s\MYeffect	{If you see another player in the same room as you, you may point at them and say "Zoom!"  Move right next to them.  They must describe what they were doing when you said "Zoom!"  You may speak to them, try to stop them, or otherwise interact with them as usual.  Other characters see you move.}
  }
\NEW{Abil}{\aHearing}{
  \s\MYname	{Super Hearing}
  \s\MYtext	{You have a superpower to listen to quiet or distant conversations.}
  \s\MYeffect	{If a conversation is taking place in the same room as you, you can choose to overhear it.  Walk over to the conversation and listen in.  Other players see you doing whatever you were doing before; e.g. if you were on your phone across the room, you still appear to be on your phone across the room.}
  }
\NEW{Abil}{\aNullification}{
  \s\MYname	{Nullification}
  \s\MYtext	{You can cancel out other superpowers.}
  \s\MYeffect	{When your character touches another player (whether narrated or roleplayed), you (whether intentionally or not) nullify their powers.  For the next three minutes, that player cannot use any ability whose text includes the word `superpower.'  Continued touching resets the three-minute timer, up to a maximum of ten minutes.  After they regain their powers, they cannot be nullified again for ten minutes.}
  }
\NEW{Abil}{\aAmplification}{
  \s\MYname	{Amplification}
  \s\MYtext	{You can enhance other superpowers.}
  \s\MYeffect	{If another player is in touch range, say "I amplify you."  For the next five minutes, that player's abilities are enhanced.  If their abilities have effects lasting $N$ minutes, they last for $N+2$ minutes if used within five minutes of you touching them.  After you use this ability, you cannot use it again for ten minutes.}
  }
\NEW{Abil}{\aSpecial}{
  \s\MYname	{Special Powers}
  \s\MYtext	{You have special powers, as detailed in your \gTest{}
		greensheet.}
  \s\MYeffect	{I have special powers!}
  \s\MYgreens	{\gTest{}}
  \suite
  }

\NEW{Abil}{\aFiremansCarry}{
  \s\MYname	{Fireman's Carry}
  \s\MYtext	{You can carry a body as if it were two hands bulky.}
  \s\MYeffect	{I can carry this body well.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


  
%% Basic DarkWater-style Martial Attack abilities


%% Everyone has these 3
\NEW{Abil}{\aAssist}{
  \s\MYname	{Assist}
  \s\MYtext	{You can assist someone else's attack.  You must be
		within ZoC of both the attacker and target.  Within two
		seconds of an attack, direct this at the attacker,
		saying ``\MYname'' and your CR.}
  \s\MYeffect	{I assist your attack.}
  }

\NEW{Abil}{\aKnockOut}{
  \s\MYname	{Knock Out}
  \s\MYtext	{You can knock someone out as an attack.  This requires
		a {\bf blunt} weapon.  Say ``\MYname'' and your CR.}
  \s\MYeffect	{I knock you out.}
  }

\NEW{Abil}{\aWound}{
  \s\MYname	{Wound}
  \s\MYtext	{You can wound someone as an attack.  This requires an
		{\bf edged} weapon, such as a knife.  Say ``\MYname'' and
		your CR.}
  \s\MYeffect	{I wound you.}
  }


%% the \basecombat macro can be prepended to the Char abils list
%% (in char-LIST.tex)
\def\basecombat{\aKnockOut{}\aWound{}\aAssist{}}

%% only some people have these
\NEW{Abil}{\aDisarm}{
  \s\MYname	{Disarm}
  \s\MYtext	{You can disarm one item from someone as an attack.  Say
		``\MYname'' and your CR.  Point at the item you want to
		disarm.  If the attack works, they must drop that item.}
  \s\MYeffect	{I disarm that item.}
  }

\NEW{Abil}{\aRestrain}{
  \s\MYname	{Restrain}
  \s\MYtext	{You can restrain someone as an attack.  Say ``\MYname''
		and your CR.  You may freely drag, attack, or (if you have
		a weapon) killing-blow them.  To do anything else, or if
		your health state changes, incant ``release'' and let them
		go.}
  \s\MYeffect	{I restrain you.  You are restrained until I incant
		``release.''}
  }
\NEW{Abil}{\aThrow}{
  \s\MYname	{Throw}
  \s\MYtext	{You can throw someone as an attack.  Say ``\MYname'' and
		your CR.  Point in the direction you want to throw them.}
  \s\MYeffect	{I throw you.  Go in the direction I point ten full steps
		or until you hit a wall or similar.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
